@model IEnumerable<AdminPluginViewModel>
@{
Layout = "_Layout";
ViewData.SetActivePage(AdminNavPages.Plugins, "Plugins");
}

<div class="d-sm-flex align-items-center justify-content-between">
    <h2 class="mb-0">
        @ViewData["Title"]
    </h2>
</div>

@if (Model != null && Model.Any())
{
    <div class="table-responsive">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Project Slug</th>
                    <th>Version</th>
                    <th>Build ID</th>
                    <th>BTCPay Min Version</th>
                    <th>Pre-Release</th>
                    <th>Updated At</th>
                    <th>Publisher Email</th>
                    <th class="actions-col"></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var plugin in Model)
                {
                    <tr>
                        <td>@plugin.ProjectSlug</td>
                        <td>@plugin.Version</td>
                        <td>@plugin.BuildId</td>
                        <td>@plugin.BtccpayMinVer</td>
                        <td>@plugin.PreRelease</td>
                        <td>@plugin.UpdatedAt</td>
                        <td>@plugin.PublisherEmail</td>
                        <td class="actions-col">
                            <div class="d-inline-flex align-items-center gap-3">
                                <a asp-controller="Admin" asp-action="GetPlugin" asp-route-pluginSlug="@plugin.ProjectSlug">View</a>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <div class="alert alert-warning alert-dismissible mb-4 mt-4" role="alert">
        <p class="mb-0" style="font-size: 0.9rem;">No plugin builds available</p>
    </div>
}
